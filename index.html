<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ØªØ·Ø¨ÙŠÙ‚ Ù…Ø§Ù„ÙŠ</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "SF Pro Display", sans-serif;
      background-color: #f0f2f5;
      color: #333;
    }

    h1, h2 {
      color: #007aff;
      text-align: center;
    }

    .page {
      display: none;
      padding: 20px;
      padding-bottom: 90px;
      animation: fadeIn 0.3s ease;
    }

    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    .form-group {
      margin-bottom: 18px;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
    }

    input, select {
      width: 100%;
      padding: 13px;
      border: 1px solid #ccc;
      border-radius: 12px;
      background: white;
      font-size: 16px;
    }

    button {
      width: 100%;
      background: #007aff;
      color: white;
      border: none;
      padding: 15px;
      font-size: 17px;
      border-radius: 12px;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: background 0.3s;
      cursor: pointer;
    }

    button:hover {
      background: #005ecb;
    }

    .divider {
      border-top: 1px solid #ddd;
      margin: 25px 0;
    }

    .result {
      background: #fff;
      padding: 20px;
      margin-top: 20px;
      border-radius: 15px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.1);
      text-align: center;
    }

    .result h3 {
      margin-bottom: 10px;
    }

    .safe { color: #2ecc71; }
    .medium { color: #e67e22; }
    .danger { color: #e74c3c; }

    .progress-bar {
      background-color: #eee;
      height: 15px;
      border-radius: 10px;
      overflow: hidden;
      margin-top: 10px;
    }

    .progress-inner {
      height: 100%;
      transition: width 0.4s ease;
    }

    .service-select {
      list-style: none;
      display: flex;
      gap: 10px;
      padding: 0;
      margin-top: 8px;
    }

    .service-select li {
      flex: 1;
      text-align: center;
      background: #fff;
      border: 1px solid #ccc;
      padding: 12px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
    }

    .service-select li.active {
      background: #007aff;
      color: white;
      font-weight: bold;
      border-color: #007aff;
    }

    /* Bottom Bar */
    .bottom-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 65px;
      background: #fff;
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -1px 10px rgba(0,0,0,0.1);
      z-index: 999;
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
    }

    .bottom-bar button {
      background: none;
      border: none;
      color: #888;
      font-size: 11px;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
    }

    .bottom-bar button.active {
      color: #007aff;
    }

    .bottom-bar i {
      font-size: 20px;
      margin-bottom: 4px;
    }

    @media (max-width: 480px) {
      h1, h2 { font-size: 20px; }
      input, select, button { font-size: 15px; }
    }
  </style>
</head>
<body>

  <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <div id="home" class="page active">
    <h2>ğŸ  Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
    <p style="text-align:center;">Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ Ø§Ù„Ø°ÙƒÙŠ. Ø­Ù„Ù„ Ù†ÙÙ‚Ø§ØªÙƒ ÙˆØªØ§Ø¨ÙØ¹ Ø§Ù„ØªØ²Ø§Ù…Ø§ØªÙƒ.</p>
  </div>

  <!-- ØµÙØ­Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ -->
  <div id="account" class="page">
    <h1>ØªØ­Ù„ÙŠÙ„ ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ</h1>

    <div class="form-group">
      <label>Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø´Ù‡Ø±ÙŠ</label>
      <input type="number" id="salary" placeholder="Ù…Ø«Ø§Ù„: 8000">
    </div>

    <div class="form-group">
      <label>Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„</label>
      <select id="jobType">
        <option value="Ø·Ø§Ù„Ø¨">Ø·Ø§Ù„Ø¨</option>
        <option value="Ø­ÙƒÙˆÙ…ÙŠ">Ù…ÙˆØ¸Ù Ø­ÙƒÙˆÙ…ÙŠ</option>
        <option value="Ø´Ø±ÙƒØ©">Ø´Ø±ÙƒØ© Ø®Ø§ØµØ©</option>
        <option value="Ø§Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
      </select>
    </div>

    <div class="divider"></div>

    <div class="form-group"><label>Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ø£ÙƒÙ„</label><input type="number" id="food"></div>
    <div class="form-group"><label>Ø§Ù„ØªØ±ÙÙŠÙ‡</label><input type="number" id="entertainment"></div>
    <div class="form-group"><label>Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª</label><input type="number" id="internet"></div>
    <div class="form-group"><label>Ø§Ù„Ø¹Ù…Ù„ (Ù…ÙˆØ§ØµÙ„Ø§Øª/Ù…Ø¹Ø¯Ø§Øª)</label><input type="number" id="workCosts"></div>
    <div class="form-group"><label>Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª (Ù‚Ø±ÙˆØ¶ØŒ Ø¥ÙŠØ¬Ø§Ø±...)</label><input type="number" id="commitments"></div>

    <div class="divider"></div>

    <label>Ù‡Ù„ ØªØ³ØªØ®Ø¯Ù… ØªØ§Ø¨ÙŠ Ø£Ùˆ ØªÙ…Ø§Ø±Ø§ØŸ</label>
    <ul class="service-select" id="serviceChoice">
      <li onclick="chooseService('none')" class="active">Ù„Ø§ Ø´ÙŠØ¡</li>
      <li onclick="chooseService('tabby')">ØªØ§Ø¨ÙŠ</li>
      <li onclick="chooseService('tamara')">ØªÙ…Ø§Ø±Ø§</li>
    </ul>

    <div id="tabbyFields" style="display:none">
      <div class="form-group"><label>Ù…Ø¨Ù„Øº ØªØ§Ø¨ÙŠ</label><input type="number" id="tabby"></div>
      <div class="form-group"><label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ù‡Ø±</label><input type="number" id="tabbyMonths"></div>
    </div>

    <div id="tamaraFields" style="display:none">
      <div class="form-group"><label>Ù…Ø¨Ù„Øº ØªÙ…Ø§Ø±Ø§</label><input type="number" id="tamara"></div>
      <div class="form-group"><label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ù‡Ø±</label><input type="number" id="tamaraMonths"></div>
    </div>


â€<!-- Ø²Ø±Ù‘ÙŠÙ† Ù…Ù†ÙØµÙ„ÙŠÙ† -->
<div class="form-group" style="margin-top: 25px;">
  <button onclick="calculate()">ğŸ§® Ø§Ø­Ø³Ø¨ ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ</button>
</div>

<div class="form-group">
  <button onclick="exportPDF()" style="background:#28a745;">ğŸ“„ ØªØµØ¯ÙŠØ± ØªÙ‚Ø±ÙŠØ± PDF</button>
</div>



    <div id="result" class="result" style="display:none;"></div>
  </div>

  <!-- ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
  <div id="settings" class="page">
    <h2>âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
    <p style="text-align:center;">Ù‚Ø±ÙŠØ¨Ù‹Ø§: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ØºØ©ØŒ Ø§Ù„Ø¹Ù…Ù„Ø©ØŒ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§ØªØŒ ÙˆØ§Ù„Ù…Ø²ÙŠØ¯.</p>
  </div>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ -->
  <div class="bottom-bar">
    <button onclick="navigate('home')" id="tab-home" class="active">
      <i class="fas fa-house"></i>
      Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    </button>
    <button onclick="navigate('account')" id="tab-account">
      <i class="fas fa-user-circle"></i>
      Ø§Ù„Ø­Ø³Ø§Ø¨
    </button>
    <button onclick="navigate('settings')" id="tab-settings">
      <i class="fas fa-cog"></i>
      Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    </button>
  </div>

  <script>
    let selectedService = 'none';

    function navigate(pageId) {
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById(pageId).classList.add("active");

      document.querySelectorAll(".bottom-bar button").forEach(btn => btn.classList.remove("active"));
      document.getElementById("tab-" + pageId).classList.add("active");
    }

    function chooseService(service) {
      selectedService = service;

      document.querySelectorAll('#serviceChoice li').forEach(li => li.classList.remove('active'));
      document.querySelector(`#serviceChoice li[onclick="chooseService('${service}')"]`).classList.add('active');

      document.getElementById('tabbyFields').style.display = service === 'tabby' ? 'block' : 'none';
      document.getElementById('tamaraFields').style.display = service === 'tamara' ? 'block' : 'none';
    }

    function calculate() {
      const salary = parseFloat(document.getElementById('salary').value) || 0;
      const food = parseFloat(document.getElementById('food').value) || 0;
      const entertainment = parseFloat(document.getElementById('entertainment').value) || 0;
      const internet = parseFloat(document.getElementById('internet').value) || 0;
      const workCosts = parseFloat(document.getElementById('workCosts').value) || 0;
      const commitments = parseFloat(document.getElementById('commitments').value) || 0;

      const tabby = selectedService === 'tabby' ? parseFloat(document.getElementById('tabby').value) || 0 : 0;
      const tamara = selectedService === 'tamara' ? parseFloat(document.getElementById('tamara').value) || 0 : 0;

      const total = food + entertainment + internet + workCosts + commitments + tabby + tamara;
      const net = salary - total;
      const percent = (total / salary) * 100;

      let status = '', advice = '', className = '', color = '';
      if (percent <= 50) {
        status = "ÙˆØ¶Ø¹Ùƒ Ø¢Ù…Ù† âœ…";
        advice = "Ø§Ø³ØªÙ…Ø± Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…Ø· ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø¯Ø®Ø§Ø±.";
        className = "safe"; color = "#2ecc71";
      } else if (percent <= 80) {
        status = "ÙˆØ¶Ø¹Ùƒ Ù…ØªÙˆØ³Ø· âš ï¸";
        advice = "Ø±Ø§Ø¬Ø¹ Ù…ØµØ§Ø±ÙŠÙÙƒ Ø§Ù„ØªØ±ÙÙŠÙ‡ÙŠØ© ÙˆØ®Ø·Ø·Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ©.";
        className = "medium"; color = "#e67e22";
      } else {
        status = "âš ï¸ ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ Ø®Ø·Ø± Ø¬Ø¯Ù‹Ø§";
        advice = "Ù‚Ù„Ù„ Ø§Ù„Ù†ÙÙ‚Ø§Øª ÙÙˆØ±Ù‹Ø§! Ø­Ø§ÙˆÙ„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨ Ø£ÙˆÙ„ÙˆÙŠØ§ØªÙƒ.";
        className = "danger"; color = "#e74c3c";
      }

      document.getElementById("result").style.display = "block";
      document.getElementById("result").innerHTML = `
        <h3>ØµØ§ÙÙŠ Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${net.toLocaleString()} Ø±ÙŠØ§Ù„</h3>
        <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª: ${total.toLocaleString()} Ø±ÙŠØ§Ù„</p>
        <p>Ø§Ù„Ù†Ø³Ø¨Ø© Ù…Ù† Ø§Ù„Ø±Ø§ØªØ¨: ${percent.toFixed(1)}%</p>
        <div class="progress-bar">
          <div class="progress-inner" style="width:${Math.min(percent, 100)}%; background:${color};"></div>
        </div>
        <p class="${className}" style="margin-top:15px;">${status}</p>
        <p><strong>Ù†ØµÙŠØ­Ø©:</strong> ${advice}</p>
      `;
    }
  </script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
  async function exportPDF() {
    const result = document.getElementById("result");
    if (!result || result.style.display === "none") {
      alert("ÙŠØ¬Ø¨ Ø£ÙˆÙ„Ø§Ù‹ Ø­Ø³Ø§Ø¨ ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ Ù‚Ø¨Ù„ Ø§Ù„ØªØµØ¯ÙŠØ±.");
      return;
    }

    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    let text = result.innerText;
    const lines = doc.splitTextToSize(text, 180); // Ù„Ù Ø§Ù„Ø³Ø·ÙˆØ± Ø§Ù„Ø·ÙˆÙŠÙ„Ø©

    doc.setFont("Helvetica");
    doc.setFontSize(14);
    doc.text(lines, 15, 20);

    doc.save("ØªÙ‚Ø±ÙŠØ±_Ù…Ø§Ù„ÙŠ.pdf");
  }
</script>

</body>
</html>
